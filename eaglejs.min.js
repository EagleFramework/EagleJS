/*! EagleJS v0.4.0 | (c) Cem Demirkartal | MIT License | github.com/EagleFramework/EagleJS */
class EagleJS extends Array{constructor(e,t=document){const r=[];if(void 0!==e){let n;if("string"==typeof e){const r=EagleJS.normalizeSelector(e);if(!/^(<).+(>)$/i.test(r))return new EagleJS(t).find(r);{const e=document.implementation.createHTMLDocument("");e.body.innerHTML=r,n=e.body.children}}else n=EagleJS.isIterable(e)?e:[e];for(let e=0;e<n.length;e++)EagleJS.isContext(n[e])&&!r.includes(n[e])&&r.push(n[e])}super(...r)}addClass(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach(e=>{EagleJS.isElement(e)&&e.classList.add(...t)})}return this}after(e){return this.insertElement(e,"after")}append(e){return this.insertElement(e,"append")}appendTo(e){return this.insertElementTo(e,"append")}attr(e,t){if(void 0===e)return this;if("string"==typeof e){if(void 0!==t)return null===t?this.removeAttr(e):(this.forEach(r=>{EagleJS.isElement(r)&&r.setAttribute(e,String(t))}),this);const r=this.find(t=>EagleJS.isElement(t)&&t.hasAttribute(e));if(r.length>0)return r[0].getAttribute(e)}}before(e){return this.insertElement(e,"before")}children(e){const t=new EagleJS;return this.forEach(e=>{t.push(...e.childNodes)}),void 0!==e?t.filter(e):t}clone(e=!0){return new EagleJS(this.map(t=>EagleJS.isElement(t)?t.cloneNode(e):null))}closest(e){let t=[];if("string"==typeof e){const r=EagleJS.normalizeSelector(e);""!==r&&(t=this.map(e=>EagleJS.isElement(e)?e.closest(r):null))}return new EagleJS(t)}concat(...e){return new EagleJS(super.concat(...e))}empty(){return this.html(""),this}eq(e){return this.slice(e,e+1)}every(e){return super.every((t,r,n)=>e.call(t,t,r,n))}filter(e){if(void 0!==e){if("string"!=typeof e){if("function"==typeof e)return new EagleJS(super.filter((t,r,n)=>e.call(t,t,r,n)));{const t=new EagleJS(e);return this.filter(e=>t.includes(e))}}{const t=EagleJS.normalizeSelector(e);if(""!==t)return this.filter(e=>EagleJS.isElement(e)&&e.matches(t))}}return new EagleJS}find(e){const t=new EagleJS;if("string"==typeof e){const r=EagleJS.normalizeSelector(e);""!==r&&this.forEach(e=>{t.push(...e.querySelectorAll(r))})}else"function"==typeof e&&t.push(super.find((t,r,n)=>e.call(t,t,r,n)));return t}first(){return this.slice(0,1)}forEach(e){return super.forEach((t,r,n)=>{e.call(t,t,r,n)}),this}static get fn(){return this.prototype}hasClass(e){return"string"==typeof e&&this.some(t=>EagleJS.isElement(t)&&t.classList.contains(e))}html(e){return void 0!==e?(this.forEach(t=>{EagleJS.isElement(t)&&(t.innerHTML=e)}),this):this.length?this[0].innerHTML:void 0}includes(e,t){return super.includes(e,t)}insertAfter(e){return this.insertElementTo(e,"after")}insertBefore(e){return this.insertElementTo(e,"before")}insertElement(e,t,r=!1){const n=new EagleJS(e),i=new EagleJS;return this.forEach((e,s)=>{if(EagleJS.isElement(e)){const l=e.parentNode;let o;o=s===this.length-1?n:n.clone(),r&&i.push(...o),"after"===t&&EagleJS.isContext(l)?o.forEach(t=>{l.insertBefore(t,e.nextSibling)}):"append"===t?o.forEach(t=>{e.appendChild(t)}):"before"===t&&EagleJS.isContext(l)?o.forEach(t=>{l.insertBefore(t,e)}):"prepend"===t&&o.forEach(t=>{e.insertBefore(t,e.firstChild)})}}),r?i:this}insertElementTo(e,t){return new EagleJS(e).insertElement(this,t,!0)}is(e){if(void 0!==e){if("string"!=typeof e){if("function"==typeof e)return this.some(e);{const t=new EagleJS(e);return this.some(e=>t.includes(e))}}{const t=EagleJS.normalizeSelector(e);if(""!==t)return this.some(e=>EagleJS.isElement(e)&&e.matches(t))}}return!1}static isContext(e){return Array.isArray(e),EagleJS.isElement(e)||EagleJS.isDocument(e)}static isDocument(e){return Boolean(e&&e.nodeType&&9===e.nodeType)}static isElement(e){return Boolean(e&&e.nodeType&&1===e.nodeType)}static isIterable(e){return null!==e&&"function"==typeof e[Symbol.iterator]}last(){return this.slice(-1)}map(e){return[...super.map((t,r,n)=>e.call(t,t,r,n))]}mapProperty(e,t){const r=new EagleJS(this.map(t=>t[e]));return void 0!==t?r.filter(t):r}mapPropertyUntil(e,t,r){const n=new EagleJS,i=void 0!==r;return this.forEach(t=>{let s=t;for(;(s=s[e])&&(!i||!new EagleJS(s).is(r));)n.push(s)}),void 0!==t?n.filter(t):n}next(e){return this.mapProperty("nextElementSibling",e)}nextAll(e){return this.mapPropertyUntil("nextElementSibling",e)}nextUntil(e,t){return this.mapPropertyUntil("nextElementSibling",t,e)}static normalizeSelector(e){let t="";return"string"==typeof e&&(t=e.trim(),/^[>+~]/.test(t)&&(t=":scope "+t)),t}not(e){if(void 0!==e){if("string"!=typeof e){if("function"==typeof e)return this.filter((t,r,n)=>!e.call(t,t,r,n));{const t=new EagleJS(e);return this.filter(e=>!t.includes(e))}}{const t=EagleJS.normalizeSelector(e);if(""!==t)return this.filter(e=>EagleJS.isElement(e)&&!e.matches(t))}return new EagleJS}return this.slice()}off(e,t,r=!1){if("string"==typeof e&&"function"==typeof t){const n=e.match(/\S+/g)||[];this.forEach(e=>{n.forEach(n=>{e.removeEventListener(n,t,r)})})}return this}on(e,t,r=!1){if("string"==typeof e&&"function"==typeof t){const n=e.match(/\S+/g)||[];this.forEach(e=>{n.forEach(n=>{e.addEventListener(n,t,r)})})}return this}one(e,t){return this.on(e,t,{once:!0})}parent(e){return this.mapProperty("parentNode",e)}parents(e){return this.mapPropertyUntil("parentElement",e)}parentsUntil(e,t){return this.mapPropertyUntil("parentElement",t,e)}prepend(e){return this.insertElement(e,"prepend")}prependTo(e){return this.insertElementTo(e,"prepend")}prev(e){return this.mapProperty("previousElementSibling",e)}prevAll(e){return this.mapPropertyUntil("previousElementSibling",e)}prevUntil(e,t){return this.mapPropertyUntil("previousElementSibling",t,e)}push(...e){return super.push(...e.filter(e=>EagleJS.isContext(e)&&!this.includes(e)))}ready(e){const t=this.find(e=>EagleJS.isDocument(e));return t.length>0&&("loading"===t[0].readyState?t.on("DOMContentLoaded",e):setTimeout(e)),this}remove(){return this.forEach(e=>{EagleJS.isElement(e)&&e.remove()}),this}removeAttr(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach(e=>{EagleJS.isElement(e)&&t.forEach(t=>{e.removeAttribute(t)})})}return this}removeClass(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach(e=>{EagleJS.isElement(e)&&e.classList.remove(...t)})}return this}siblings(e){const t=new EagleJS;return this.forEach(r=>{const n=new EagleJS(r);t.push(...n.parent().children(e).not(n))}),t}slice(e,t){return new EagleJS(super.slice(e,t))}some(e){return super.some((t,r,n)=>e.call(t,t,r,n))}text(e){return void 0!==e?(this.forEach(t=>{EagleJS.isElement(t)&&(t.textContent=String(e))}),this):this.length?this[0].textContent:""}toggleClass(e,t){if("string"==typeof e){const r=e.match(/\S+/g)||[];this.forEach(e=>{EagleJS.isElement(e)&&r.forEach(r=>{e.classList.toggle(r,t)})})}return this}trigger(e,t=null){if("string"==typeof e){const r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});this.forEach(e=>{e.dispatchEvent(r)})}return this}unshift(...e){return super.unshift(...e.filter(e=>EagleJS.isContext(e)&&!this.includes(e)))}}
const EagleJSProxy=new Proxy(EagleJS,{apply:(e,t,r)=>new e(...r)});window.$=EagleJSProxy;
