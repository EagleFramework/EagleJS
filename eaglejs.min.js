/*! EagleJS v0.3.3 | (c) Cem Demirkartal | MIT License | github.com/EagleFramework/EagleJS */
class EagleJS extends Array{constructor(e,t=document){let r=[];if("string"==typeof e){const n=EagleJS.normalizeSelector(e);if(!/^(<).+(>)$/i.test(n))return new EagleJS(t).find(n);{const e=document.implementation.createHTMLDocument("");e.body.innerHTML=n,r=[...e.body.children]}}else e&&(r=e.length?[...new Set(e)]:[e]);super(...r=r.filter(e=>EagleJS.isElement(e)||EagleJS.isDocument(e)))}addClass(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach((e,r)=>{EagleJS.isElement(r)&&r.classList.add(...t)})}return this}after(e){return this.insertElement(e,"after")}append(e){return this.insertElement(e,"append")}appendTo(e){return this.insertElementTo(e,"append")}attr(e,t){if(void 0===e)return this;if("string"==typeof e){if(void 0!==t)return null===t?this.removeAttr(e):(this.forEach((r,n)=>{EagleJS.isElement(n)&&n.setAttribute(e,String(t))}),this);const r=this.find((t,r)=>EagleJS.isElement(r)&&r.hasAttribute(e));if(r)return r.getAttribute(e)}}before(e){return this.insertElement(e,"before")}children(e){const t=new EagleJS;return this.forEach((e,r)=>{t.push(...r.childNodes)}),void 0!==e?t.filter(e):t}clone(e=!0){return this.map((t,r)=>{if(EagleJS.isElement(r))return r.cloneNode(e)})}closest(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);if(""!==t)return this.map((e,r)=>{if(EagleJS.isElement(r))return r.closest(t)})}return new EagleJS}concat(...e){return new EagleJS(super.concat(...e))}each(e){return this.forEach(e)}empty(){return this.html("")}eq(e){return this.slice(e,e+1)}every(e){return super.every((t,r)=>e.call(t,t,r))}filter(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);if(""!==t)return this.filter((e,r)=>EagleJS.isElement(r)&&r.matches(t))}else{if("function"==typeof e)return super.filter((t,r)=>e.call(t,r,t));if(void 0!==e){const t=new EagleJS(e);return this.filter((e,r)=>t.includes(r))}}return new EagleJS}find(e){const t=new EagleJS;if("string"==typeof e){const r=EagleJS.normalizeSelector(e);""!==r&&this.forEach((e,n)=>{t.push(...n.querySelectorAll(r))})}else if("function"==typeof e)return super.find((t,r)=>e.call(t,r,t));return t}first(){return this.slice(0,1)}forEach(e){return super.forEach((t,r)=>{e.call(t,r,t)}),this}static get fn(){return this.prototype}hasClass(e){return"string"==typeof e&&this.some((t,r)=>EagleJS.isElement(r)&&r.classList.contains(e))}html(e){return void 0!==e?this.forEach((t,r)=>{r.innerHTML=e}):this.length?this[0].innerHTML:void 0}insertAfter(e){return this.insertElementTo(e,"after")}insertBefore(e){return this.insertElementTo(e,"before")}insertElement(e,t,r=!1){const n=new EagleJS(e),i=new EagleJS;return this.forEach((e,s)=>{if(EagleJS.isElement(s)&&("append"===t||EagleJS.isElement(s.parentNode))){let l;l=e===this.length-1?n:n.clone(),r&&i.push(...l),"after"===t?l.forEach((e,t)=>{s.parentNode.insertBefore(t,s.nextSibling)}):"append"===t?l.forEach((e,t)=>{s.appendChild(t)}):"before"===t?l.forEach((e,t)=>{s.parentNode.insertBefore(t,s)}):"prepend"===t&&l.forEach((e,t)=>{s.insertBefore(t,s.firstChild)})}}),r?i:this}insertElementTo(e,t){return new EagleJS(e).insertElement(this,t,!0)}is(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);if(""!==t)return this.some((e,r)=>EagleJS.isElement(r)&&r.matches(t))}else{if("function"==typeof e)return this.some(e);if(void 0!==e){const t=new EagleJS(e);return this.some((e,r)=>t.includes(r))}}return!1}static isDocument(e){return Boolean(e&&e.nodeType&&9===e.nodeType)}static isElement(e){return Boolean(e&&e.nodeType&&1===e.nodeType)}last(){return this.slice(-1)}map(e){return new EagleJS(super.map((t,r)=>e.call(t,r,t)))}mapProperty(e,t){const r=this.map((t,r)=>r[e]);return void 0!==t?r.filter(t):r}mapPropertyUntil(e,t,r){const n=new EagleJS,i=void 0!==r;return this.forEach((t,s)=>{let l=s;for(;(l=l[e])&&(!i||!new EagleJS(l).is(r));)n.push(l)}),void 0!==t?n.filter(t):n}next(e){return this.mapProperty("nextElementSibling",e)}nextAll(e){return this.mapPropertyUntil("nextElementSibling",e)}nextUntil(e,t){return this.mapPropertyUntil("nextElementSibling",t,e)}static normalizeSelector(e){let t="";return"string"==typeof e&&(t=e.trim(),/^[>+~]/.test(t)&&(t=":scope "+t)),t}not(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);return""!==t?this.filter((e,r)=>EagleJS.isElement(r)&&!r.matches(t)):new EagleJS}if("function"==typeof e)return super.filter((t,r)=>!e.call(t,r,t));if(void 0!==e){const t=new EagleJS(e);return this.filter((e,r)=>!t.includes(r))}return this.slice()}off(e,t,r=!1){if("string"==typeof e&&"function"==typeof t){const n=e.match(/\S+/g)||[];this.forEach((e,i)=>{n.forEach(e=>{i.removeEventListener(e,t,r)})})}return this}on(e,t,r=!1){if("string"==typeof e&&"function"==typeof t){const n=e.match(/\S+/g)||[];this.forEach((e,i)=>{n.forEach(e=>{i.addEventListener(e,t,r)})})}return this}one(e,t){return this.on(e,t,{once:!0})}parent(e){return this.mapProperty("parentNode",e)}parents(e){return this.mapPropertyUntil("parentElement",e)}parentsUntil(e,t){return this.mapPropertyUntil("parentElement",t,e)}prepend(e){return this.insertElement(e,"prepend")}prependTo(e){return this.insertElementTo(e,"prepend")}prev(e){return this.mapProperty("previousElementSibling",e)}prevAll(e){return this.mapPropertyUntil("previousElementSibling",e)}prevUntil(e,t){return this.mapPropertyUntil("previousElementSibling",t,e)}push(...e){return super.push(...e.filter(e=>(EagleJS.isElement(e)||EagleJS.isDocument(e))&&!this.includes(e))),this}ready(e){return this.is(document)&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()),this}remove(){return this.forEach((e,t)=>{EagleJS.isElement(t)&&t.remove()}),this}removeAttr(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach((e,r)=>{EagleJS.isElement(r)&&t.forEach(e=>{r.removeAttribute(e)})})}return this}removeClass(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach((e,r)=>{EagleJS.isElement(r)&&r.classList.remove(...t)})}return this}siblings(e){const t=new EagleJS;return this.forEach((r,n)=>{const i=new EagleJS(n);t.push(...i.parent().children(e).not(i))}),t}some(e){return super.some((t,r)=>e.call(t,r,t))}text(e){return void 0!==e?(this.forEach((t,r)=>{EagleJS.isElement(r)&&(r.textContent=String(e))}),this):this.length?this[0].textContent:""}toggleClass(e,t){if("string"==typeof e){const r=e.match(/\S+/g)||[];this.forEach((e,n)=>{EagleJS.isElement(n)&&r.forEach(e=>{n.classList.toggle(e,t)})})}return this}trigger(e,t){if("string"==typeof e){const r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});this.forEach((e,t)=>{t.dispatchEvent(r)})}return this}unshift(...e){return super.unshift(...e.filter(e=>(EagleJS.isElement(e)||EagleJS.isDocument(e))&&!this.includes(e))),this}}
const EagleJSProxy=new Proxy(EagleJS,{apply:(e,a,l)=>new e(...l)});
"undefined"==typeof $&&(window.$=EagleJSProxy);
