/*! EagleJS v0.3.1 | (c) Cem Demirkartal | MIT License | github.com/EagleFramework/EagleJS */
class EagleJS extends Array{constructor(e,t=document){let n=[];if("string"==typeof e){if(!/^(<).+(>)$/i.test(e))return new EagleJS(t).find(e);{const t=document.implementation.createHTMLDocument("");t.body.innerHTML=e,n=[t.body.children[0]]}}else e&&(n=e.length?[...new Set(e)]:[e]);super(...n=n.filter(e=>EagleJS.isNode(e)))}addClass(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach((e,n)=>{EagleJS.isElement(n)&&n.classList.add(...t)})}return this}after(e){const t=new EagleJS(e);return this.forEach((e,n)=>{if(EagleJS.isElement(n.parentNode)){let r;(r=e===this.length-e?t:t.clone()).forEach((e,t)=>{n.parentNode.insertBefore(t,n.nextSibling)})}}),this}append(e){const t=new EagleJS(e);return this.forEach((e,n)=>{if(EagleJS.isElement(n)){let r;(r=e===this.length-e?t:t.clone()).forEach((e,t)=>n.appendChild(t))}}),this}attr(e,t){if(void 0===e)return this;if("string"==typeof e){if(void 0!==t)return null===t?this.removeAttr(e):(this.forEach((n,r)=>{EagleJS.isElement(r)&&r.setAttribute(e,t)}),this);const n=this.find((t,n)=>EagleJS.isElement(n)&&n.hasAttribute(e));if(n)return n.getAttribute(e)}}before(e){const t=new EagleJS(e);return this.forEach((e,n)=>{if(EagleJS.isElement(n.parentNode)){let r;(r=e===this.length-e?t:t.clone()).forEach((e,t)=>{n.parentNode.insertBefore(t,n)})}}),this}children(e="*"){const t=new EagleJS;return this.forEach((e,n)=>{t.push(...n.childNodes)}),t.filter(e)}clone(e=!0){return this.map((t,n)=>{if(EagleJS.isElement(n))return n.cloneNode(e)})}closest(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);if(""!==t)return this.map((e,n)=>{if(EagleJS.isElement(n))return n.closest(t)})}return new EagleJS}concat(...e){return new EagleJS(super.concat(...e))}each(e){return this.forEach(e)}empty(){return this.html("")}eq(e){return this.slice(e,e+1)}every(e){return super.every((t,n)=>e.call(t,t,n))}filter(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);if(""!==t)return this.filter((e,n)=>EagleJS.isElement(n)&&n.matches(t))}else{if("function"==typeof e)return super.filter((t,n)=>e.call(t,n,t));if(void 0!==e){const t=new EagleJS(e);return this.filter((e,n)=>t.includes(n))}}return new EagleJS}find(e){const t=new EagleJS;if("string"==typeof e){const n=EagleJS.normalizeSelector(e);""!==n&&this.forEach((e,r)=>{t.push(...r.querySelectorAll(n))})}else if("function"==typeof e)return super.find((t,n)=>e.call(t,n,t));return t}first(){return this.slice(0,1)}forEach(e){return super.forEach((t,n)=>{e.call(t,n,t)}),this}static get fn(){return this.prototype}hasClass(e){return"string"==typeof e&&this.some((t,n)=>EagleJS.isElement(n)&&n.classList.contains(e))}html(e){return void 0!==e?this.forEach((t,n)=>{n.innerHTML=e}):this.length?this[0].innerHTML:void 0}is(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);if(""!==t)return this.some((e,n)=>EagleJS.isElement(n)&&n.matches(t))}else{if("function"==typeof e)return this.some(e);if(void 0!==e){const t=new EagleJS(e);return this.some((e,n)=>t.includes(n))}}return!1}static isDocument(e){return Boolean(e&&e.nodeType&&9===e.nodeType)}static isElement(e){return Boolean(e&&e.nodeType&&1===e.nodeType)}static isNode(e){return EagleJS.isElement(e)||EagleJS.isDocument(e)}last(){return this.slice(-1)}map(e){return new EagleJS(super.map((t,n)=>e.call(t,n,t)))}next(e="*"){return this.map((e,t)=>t.nextElementSibling).filter(e)}nextAll(e="*"){const t=new EagleJS;return this.forEach((e,n)=>{let r=n.nextElementSibling;for(;EagleJS.isElement(r);)t.push(r),r=r.nextElementSibling}),t.filter(e)}static normalizeSelector(e){let t="";return"string"==typeof e&&(t=e.trim(),/^[>+~]/.test(t)&&(t=":scope "+t),/[>+~]$/.test(t)&&(t+=" *")),t}not(e){if("string"==typeof e){const t=EagleJS.normalizeSelector(e);return""!==t?this.filter((e,n)=>EagleJS.isElement(n)&&!n.matches(t)):new EagleJS}if("function"==typeof e)return super.filter((t,n)=>!e.call(t,n,t));if(void 0!==e){const t=new EagleJS(e);return this.filter((e,n)=>!t.includes(n))}return this.slice()}off(e,t){if("string"==typeof e&&"function"==typeof t){const n=e.match(/\S+/g)||[];this.forEach((e,r)=>{n.forEach(e=>{r.removeEventListener(e,t)})})}return this}on(e,t){if("string"==typeof e&&"function"==typeof t){const n=e.match(/\S+/g)||[];this.forEach((e,r)=>{n.forEach(e=>{r.addEventListener(e,t,!1)})})}return this}one(e,t){if("function"==typeof t){const n=function(r){t(r),new EagleJS(r.target).off(e,n)};return this.on(e,n)}return this}parent(e){const t=this.map((e,t)=>t.parentNode);return void 0!==e?t.filter(e):t}parents(e="*"){const t=new EagleJS;return this.forEach((e,n)=>{let r=n.parentElement;for(;EagleJS.isElement(r);)t.push(r),r=r.parentElement}),t.filter(e)}prepend(e){const t=new EagleJS(e);return this.forEach((e,n)=>{if(EagleJS.isElement(n)){let r;(r=e===this.length-e?t:t.clone()).forEach((e,t)=>{n.insertBefore(t,n.firstChild)})}}),this}prev(e="*"){return this.map((e,t)=>t.previousElementSibling).filter(e)}prevAll(e="*"){const t=new EagleJS;return this.forEach((e,n)=>{let r=n.previousElementSibling;for(;EagleJS.isElement(r);)t.push(r),r=r.previousElementSibling}),t.filter(e)}push(...e){return super.push(...e.filter(e=>EagleJS.isNode(e)&&!this.includes(e))),this}ready(e){return this.is(document)&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()),this}remove(){return this.forEach((e,t)=>{EagleJS.isElement(t)&&t.remove()}),this}removeAttr(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach((e,n)=>{EagleJS.isElement(n)&&t.forEach(e=>{n.removeAttribute(e)})})}return this}removeClass(e){if("string"==typeof e){const t=e.match(/\S+/g)||[];this.forEach((e,n)=>{EagleJS.isElement(n)&&n.classList.remove(...t)})}return this}siblings(e="*"){const t=new EagleJS;return this.forEach((n,r)=>{const i=new EagleJS(r);t.push(...i.parent().children(e).not(i))}),t}some(e){return super.some((t,n)=>e.call(t,n,t))}text(e){return void 0!==e?(this.forEach((t,n)=>{EagleJS.isElement(n)&&(n.textContent=e)}),this):this.length?this[0].textContent:""}toggleClass(e,t){if("string"==typeof e){const n=e.match(/\S+/g)||[];this.forEach((e,r)=>{EagleJS.isElement(r)&&n.forEach(e=>{r.classList.toggle(e,t)})})}return this}trigger(e,t){if("string"==typeof e){const n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});this.forEach((e,t)=>{t.dispatchEvent(n)})}return this}unshift(...e){return super.unshift(...e.filter(e=>EagleJS.isNode(e)&&!this.includes(e))),this}}
const EagleJSProxy=new Proxy(EagleJS,{apply:(e,a,l)=>new e(...l)});
"undefined"==typeof $&&(window.$=EagleJSProxy);
