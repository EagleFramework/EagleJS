/**
 * EagleJS
 *
 * @version   0.4.4
 * @copyright 2020 Cem Demirkartal
 * @license   MIT
 * @see       {@link https://github.com/EagleFramework/EagleJS GitHub}
 */
class EagleJS extends Array{constructor(e=null,t=document){if(super(),null!==e){if("string"==typeof e){if(/^\s*<.+>\s*$/.test(e)){const n=t.implementation.createHTMLDocument("");return new EagleJS("body",n).html(e).children()}return new EagleJS(t).find(e)}"function"==typeof e?new EagleJS(t).ready(e):"function"==typeof e[Symbol.iterator]?this.push(...e):this.push(e)}}addClass(...e){return this.forEach(t=>{EagleJS.isElement(t)&&t.classList.add(...e)}),this}after(e){let t=new EagleJS(e),n=!0;return this.slice().reverse().forEach(e=>{EagleJS.isChildNode(e)&&e.parentNode&&(n?n=!1:t=t.clone(!0),t.forEach(t=>{e.parentNode.insertBefore(t,e.nextSibling)}))}),this}append(e){let t=new EagleJS(e),n=!0;return this.slice().reverse().forEach(e=>{EagleJS.isParentNode(e)&&(n?n=!1:t=t.clone(!0),t.forEach(t=>{e.appendChild(t)}))}),this}appendTo(e){const t=new EagleJS;let n=this,r=!0;return new EagleJS(e).reverse().forEach(e=>{EagleJS.isParentNode(e)&&(r?r=!1:n=n.clone(!0),t.push(...n),n.forEach(t=>{e.appendChild(t)}))}),t}attr(e,t){if(void 0!==t)return this.forEach(n=>{EagleJS.isElement(n)&&n.setAttribute(e,t)}),this;let n=null;return this.some(t=>!!EagleJS.isElement(t)&&(n=t.getAttribute(e),!0)),n}before(e){let t=new EagleJS(e),n=!0;return this.slice().reverse().forEach(e=>{EagleJS.isChildNode(e)&&e.parentNode&&(n?n=!1:t=t.clone(!0),t.forEach(t=>{e.parentNode.insertBefore(t,e)}))}),this}children(e=null){const t=new EagleJS;return this.forEach(e=>{EagleJS.isParentNode(e)&&t.push(...e.children)}),null!==e?t.filter(e):t}clone(e=!1){const t=new EagleJS;return this.forEach(n=>{EagleJS.isNode(n)&&t.push(n.cloneNode(e))}),t}closest(e){const t=new EagleJS;return this.forEach(n=>{if(EagleJS.isElement(n)){const r=n.closest(e);null!==r&&t.push(r)}}),t}concat(...e){return new EagleJS(super.concat(...e))}contents(){const e=new EagleJS;return this.forEach(t=>{EagleJS.isNode(t)&&e.push(...t.childNodes)}),e}empty(){return this.html("")}filter(e,t){if("string"==typeof e)return this.filter(t=>EagleJS.isElement(t)&&t.matches(e));if("function"==typeof e)return super.filter(e,t);const n=new EagleJS(e);return this.filter(e=>n.includes(e))}find(e,t){const n=new EagleJS;if("string"==typeof e)this.forEach(t=>{EagleJS.isParentNode(t)&&n.push(...t.querySelectorAll(e))});else if("function"==typeof e)return super.find(e,t);return n}static get fn(){return this.prototype}hasClass(e){return this.some(t=>EagleJS.isElement(t)&&t.classList.contains(e))}html(e){if(void 0!==e)return this.forEach(t=>{EagleJS.isElement(t)&&(t.innerHTML=e)}),this;let t="";return this.some(e=>!!EagleJS.isElement(e)&&(t=e.innerHTML,!0)),t}insertAfter(e){const t=new EagleJS;let n=this,r=!0;return new EagleJS(e).reverse().forEach(e=>{EagleJS.isChildNode(e)&&e.parentNode&&(r?r=!1:n=n.clone(!0),t.push(...n),n.forEach(t=>{e.parentNode.insertBefore(t,e.nextSibling)}))}),t}insertBefore(e){const t=new EagleJS;let n=this,r=!0;return new EagleJS(e).reverse().forEach(e=>{EagleJS.isChildNode(e)&&e.parentNode&&(r?r=!1:n=n.clone(!0),t.push(...n),n.forEach(t=>{e.parentNode.insertBefore(t,e)}))}),t}is(e){if("string"==typeof e)return this.some(t=>EagleJS.isElement(t)&&t.matches(e));if("function"==typeof e)return this.some(e);const t=new EagleJS(e);return this.some(e=>t.includes(e))}static isChildNode(e){return this.isNode(e)&&[1,3,4,7,8,10].includes(e.nodeType)}static isDocument(e){return this.isNode(e)&&9===e.nodeType}static isDOMItem(e){return this.isNode(e)||this.isWindow(e)}static isElement(e){return this.isNode(e)&&1===e.nodeType}static isNode(e){return Boolean(e&&e.nodeType)}static isParentNode(e){return this.isNode(e)&&[1,9,11].includes(e.nodeType)}static isWindow(e){return Boolean(e&&e===e.window)}mapProp(e,t=null){const n=new EagleJS;return this.forEach(t=>{n.push(t[e])}),null!==t?n.filter(t):n}mapPropUntil(e,t=null,n=null){const r=new EagleJS;return this.forEach(t=>{let i=t;for(;(i=i[e])&&(null===n||!new EagleJS(i).is(n));)r.push(i)}),null!==t?r.filter(t):r}next(e=null){return this.mapProp("nextElementSibling",e)}nextAll(e=null){return this.mapPropUntil("nextElementSibling",e)}nextUntil(e=null,t=null){return this.mapPropUntil("nextElementSibling",t,e)}not(e){if("string"==typeof e)return this.filter(t=>EagleJS.isElement(t)&&!t.matches(e));if("function"==typeof e)return this.filter((t,n,r)=>!e(t,n,r));const t=new EagleJS(e);return this.filter(e=>!t.includes(e))}off(e,t,n=!1){const r=e.match(/\S+/g)||[];return this.forEach(e=>{r.forEach(r=>{e.removeEventListener(r,t,n)})}),this}on(e,t,n=!1){const r=e.match(/\S+/g)||[];return this.forEach(e=>{r.forEach(r=>{e.addEventListener(r,t,n)})}),this}one(e,t){return this.on(e,t,{once:!0})}parent(e=null){return this.mapProp("parentNode",e)}parents(e=null){return this.mapPropUntil("parentElement",e)}parentsUntil(e=null,t=null){return this.mapPropUntil("parentElement",t,e)}prepend(e){let t=new EagleJS(e),n=!0;return this.slice().reverse().forEach(e=>{EagleJS.isParentNode(e)&&(n?n=!1:t=t.clone(!0),t.forEach(t=>{e.insertBefore(t,e.firstChild)}))}),this}prependTo(e){const t=new EagleJS;let n=this,r=!0;return new EagleJS(e).reverse().forEach(e=>{EagleJS.isParentNode(e)&&(r?r=!1:n=n.clone(!0),t.push(...n),n.forEach(t=>{e.insertBefore(t,e.firstChild)}))}),t}prev(e=null){return this.mapProp("previousElementSibling",e)}prevAll(e=null){return this.mapPropUntil("previousElementSibling",e)}prevUntil(e,t=null){return this.mapPropUntil("previousElementSibling",t,e)}prop(e,t){return void 0!==t?(this.forEach(n=>{n[e]=t}),this):this.length>0&&e in this[0]?this[0][e]:void 0}push(...e){return super.push(...e.filter(e=>EagleJS.isDOMItem(e)&&!this.includes(e)))}ready(e){return this.forEach(t=>{EagleJS.isDocument(t)&&("loading"===t.readyState?new EagleJS(t).on("DOMContentLoaded",e):setTimeout(e))}),this}remove(){return this.forEach(e=>{EagleJS.isChildNode(e)&&e.parentNode&&e.parentNode.removeChild(e)}),this}removeAttr(...e){return this.forEach(t=>{EagleJS.isElement(t)&&e.forEach(e=>{t.removeAttribute(e)})}),this}removeClass(...e){return this.forEach(t=>{EagleJS.isElement(t)&&t.classList.remove(...e)}),this}removeProp(e){return this.forEach(t=>{delete t[e]}),this}replaceAll(e){const t=new EagleJS(e),n=this.insertBefore(t);return t.remove(),n}replaceWith(e){return this.before(e).remove()}siblings(e=null){const t=new EagleJS;return this.forEach(n=>{const r=new EagleJS(n);t.push(...r.parent().children(e).not(r))}),t}text(e){if(void 0!==e)return this.forEach(t=>{EagleJS.isNode(t)&&(t.textContent=e)}),this;let t=null;return this.some(e=>!!EagleJS.isNode(e)&&(t=e.textContent,!0)),t}toggleClass(e,t){const n=e.match(/\S+/g)||[];return this.forEach(e=>{EagleJS.isElement(e)&&n.forEach(n=>{e.classList.toggle(n,t)})}),this}trigger(e,t=null){const n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});return this.forEach(e=>{e.dispatchEvent(n)}),this}unshift(...e){return super.unshift(...e.filter(e=>EagleJS.isDOMItem(e)&&!this.includes(e)))}}
const EagleJSProxy=new Proxy(EagleJS,{apply:(e,t,n)=>new e(...n)});window.$=EagleJSProxy;
